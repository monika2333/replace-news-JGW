# 批量文本清洗脚本

`bulk_replace.py` 用于批量扫描指定目录下的 `.txt` 文件，并对常见的来源标识与媒体名称进行标准化，同时统一括号格式。脚本会递归处理子目录中的所有文本文件。

## 功能
- 删除前缀 `来源：`
- 将英文括号 `()` 转换为中文括号 `（）`
- 删除中文右括号前的多余空格
- “北京日报客户端” 统一为 “北京日报”
- “《新京报》官方账号” 统一为 “新京报”
- 将括号内部内容中的书名号去掉（例如 `（《北京青年报》） → （北京青年报）`）

## 环境要求
- Python 3.8 或更高版本

## 使用方法
在命令行中切换到脚本所在目录，运行：

```bash
python bulk_replace.py
```

- 默认会处理当前目录及其子目录下的所有 `.txt` 文件。
- 处理完成后，终端会提示实际修改的文件数量。

如需指定其他路径，可在命令后附加目标目录：

```bash
python bulk_replace.py <目标目录>
```

### 预览模式
如果想先查看哪些文件会被修改，可使用 `--dry-run` 选项：

```bash
python bulk_replace.py --dry-run
python bulk_replace.py <目标目录> --dry-run
```

该模式下不会写入文件，只会输出潜在变更。

---

# 简报重排脚本

`reorder_brief.py` 用于根据预设类别重新排序简报中的条目，排序顺序为 市委教委 -> 中小幼 -> 高校 -> 其他，帮助快速汇总不同板块的内容。

## 功能
- 自动解析包含【...】标题的板块并抽取条目列表。
- 基于关键词匹配条目所属类别，并按固定顺序重排。
- 输出每个板块在各类别中的条目数量，方便复核。
- 支持覆盖原文件或写入自定义输出文件。

## 使用方法
在命令行中切换到脚本所在目录，运行：

```bash
python reorder_brief.py <输入文件>
```

- 默认会在输入文件所在目录生成带有 `_sorted` 后缀的新文件。

### 常用选项
- `--output <文件>`：指定输出路径。
- `--in-place`：直接覆盖原文件（不可与 `--output` 同时使用）。

## 注意事项
- 输入文件需为 UTF-8 编码，且包含类似 `【舆情速览】` 的标题，以便脚本识别各板块。
- 若未找到有效板块，脚本会提示检查文件格式。

# 新闻编号脚本

`add_numbers.py` 用于给新闻文本文件中的每条新闻添加中文数字编号（一、二、三、四、五...）。

## 功能
- 自动识别新闻标题行
- 添加中文数字编号（一、二、三、四、五...）
- 支持分区域编号：【舆情速览】和【舆情参考】部分分别独立编号
- 避免重复编号：如果标题已有编号，不会重复添加

## 使用方法
修改脚本中的文件名，然后运行：

```bash
python3 add_numbers.py
```

脚本会自动处理指定的 `.txt` 文件，为其中的新闻条目添加中文数字编号。

- 直接指定单个文件运行：`python add_numbers.py 1009ZM.txt`
- 也可传入多个文件或目录，未指定时默认处理当前目录下的 `.txt` 文件。

## 注意事项
- 脚本假定文本文件使用 UTF-8 编码；遇到其他编码会自动跳过并提示。
- 如果目录下没有 `.txt` 文件，会输出提示信息后结束。
- 建议在批量修改前做好备份，或先使用 `--dry-run` 进行确认。
